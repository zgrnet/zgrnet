# 流量伪装 (Obfuscation)

## 问题
ZigNet 协议有明显特征（固定 Type、长度、dst_pubkey），容易被识别。

## 传输层设计

```
┌─────────────────────────────────────────┐
│           ZigNet 核心协议               │  ← 内网/可信网络
├─────────────────────────────────────────┤
│         可插拔传输层 (Transport)         │  ← 翻墙/敏感场景
└─────────────────────────────────────────┘
```

## 伪装方案

### 1. Raw UDP (默认)
无伪装，性能最好。

### 2. Rotation 加密 (推荐)
使用随机字典对包进行 Rotation/XOR 加密。
- **消除特征**：Type、dst_pubkey、长度都变得随机。
- **PSK 增强**：使用预共享密钥派生字典，防止公开算法被破解。

### 3. QUIC 封装
伪装成 HTTP/3 流量。

### 4. WebSocket / TLS
伪装成 HTTPS/WS 流量，支持 CDN 中转（Cloudflare Tunnel）。

### 5. 流量特征模拟
- **长度混淆**：添加随机 Padding。
- **时序混淆**：添加随机延迟 (Jitter)。

